{"ast":null,"code":"import axios from \"axios\";\nimport { loginFailed, loginStart, loginSuccess, logOutFailed, logOutStart, logOutSuccess, registerFailed, registerStart, registerSuccess } from \"./authSlice\";\nexport const loginUser = async (account, dispatch, navigate) => {\n  dispatch(loginStart());\n  try {\n    const res = await axios.post(\"http://localhost:8000/v1/auth/login\", account, {\n      withCredentials: true\n    });\n    if (res.data.accessToken) {\n      dispatch(loginSuccess(res.data));\n      localStorage.setItem('token', res.data.accessToken);\n      navigate(\"/\");\n    } else {\n      // no accessToken\n      console.log(res.data.message);\n      dispatch(loginFailed(res.data.message));\n    }\n    // return res;\n  } catch (err) {\n    if (err.response && err.response.status === 404) {\n      // Handle 404 Not Found\n      dispatch(loginFailed(\"Số CCCD không tìm thấy\"));\n    } else if (err.response && err.response.data && err.response.data.message) {\n      // Handle other errors with message\n      dispatch(loginFailed(err.response.data.message));\n    } else {\n      // Handle other errors\n      dispatch(loginFailed(\"An unexpected error occurred.\"));\n    }\n    throw err;\n  }\n};","map":{"version":3,"names":["axios","loginFailed","loginStart","loginSuccess","logOutFailed","logOutStart","logOutSuccess","registerFailed","registerStart","registerSuccess","loginUser","account","dispatch","navigate","res","post","withCredentials","data","accessToken","localStorage","setItem","console","log","message","err","response","status"],"sources":["D:/TLCN/SourceCode/BloodnHeart/client/src/redux/apiRequest.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n    loginFailed,\r\n    loginStart,\r\n    loginSuccess,\r\n    logOutFailed,\r\n    logOutStart,\r\n    logOutSuccess,\r\n    registerFailed,\r\n    registerStart,\r\n    registerSuccess,\r\n} from \"./authSlice\";\r\nexport const loginUser = async (account, dispatch, navigate) => {\r\n    dispatch(loginStart());\r\n    try {\r\n        const res = await axios.post(\"http://localhost:8000/v1/auth/login\", account,{\r\n            withCredentials: true,\r\n          });\r\n        if (res.data.accessToken) {\r\n            dispatch(loginSuccess(res.data));\r\n            localStorage.setItem('token', res.data.accessToken);\r\n            navigate(\"/\");\r\n        } else {\r\n            // no accessToken\r\n            console.log(res.data.message);\r\n            dispatch(loginFailed(res.data.message));\r\n        }\r\n        // return res;\r\n    } catch (err) {\r\n        if (err.response && err.response.status === 404) {\r\n            // Handle 404 Not Found\r\n            dispatch(loginFailed(\"Số CCCD không tìm thấy\"));\r\n        } else if (err.response && err.response.data && err.response.data.message) {\r\n            // Handle other errors with message\r\n            dispatch(loginFailed(err.response.data.message));\r\n        } else {\r\n            // Handle other errors\r\n            dispatch(loginFailed(\"An unexpected error occurred.\"));\r\n        }\r\n\r\n        throw err;\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACIC,WAAW,EACXC,UAAU,EACVC,YAAY,EACZC,YAAY,EACZC,WAAW,EACXC,aAAa,EACbC,cAAc,EACdC,aAAa,EACbC,eAAe,QACZ,aAAa;AACpB,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,OAAO,EAAEC,QAAQ,EAAEC,QAAQ,KAAK;EAC5DD,QAAQ,CAACV,UAAU,CAAC,CAAC,CAAC;EACtB,IAAI;IACA,MAAMY,GAAG,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,qCAAqC,EAAEJ,OAAO,EAAC;MACxEK,eAAe,EAAE;IACnB,CAAC,CAAC;IACJ,IAAIF,GAAG,CAACG,IAAI,CAACC,WAAW,EAAE;MACtBN,QAAQ,CAACT,YAAY,CAACW,GAAG,CAACG,IAAI,CAAC,CAAC;MAChCE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;MACnDL,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,MAAM;MACH;MACAQ,OAAO,CAACC,GAAG,CAACR,GAAG,CAACG,IAAI,CAACM,OAAO,CAAC;MAC7BX,QAAQ,CAACX,WAAW,CAACa,GAAG,CAACG,IAAI,CAACM,OAAO,CAAC,CAAC;IAC3C;IACA;EACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;IACV,IAAIA,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC7C;MACAd,QAAQ,CAACX,WAAW,CAAC,wBAAwB,CAAC,CAAC;IACnD,CAAC,MAAM,IAAIuB,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACR,IAAI,IAAIO,GAAG,CAACC,QAAQ,CAACR,IAAI,CAACM,OAAO,EAAE;MACvE;MACAX,QAAQ,CAACX,WAAW,CAACuB,GAAG,CAACC,QAAQ,CAACR,IAAI,CAACM,OAAO,CAAC,CAAC;IACpD,CAAC,MAAM;MACH;MACAX,QAAQ,CAACX,WAAW,CAAC,+BAA+B,CAAC,CAAC;IAC1D;IAEA,MAAMuB,GAAG;EACb;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}