{"ast":null,"code":"import axios from \"axios\";\nimport { loginFailed, loginStart, loginSuccess, logOutFailed, logOutStart, logOutSuccess, registerFailed, registerStart, registerSuccess } from \"./authSlice\";\nexport const loginUser = async (account, dispatch, navigate) => {\n  dispatch(loginStart());\n  try {\n    const res = await axios.post(\"http://localhost:8000/v1/auth/login\", account);\n    if (res.data.accessToken) {\n      dispatch(loginSuccess(res.data));\n      localStorage.setItem('token', res.data.accessToken);\n      navigate(\"/\");\n    } else {\n      // no accessToken\n      console.log(res.data.message);\n      dispatch(loginFailed(res.data.message));\n    }\n  } catch (err) {\n    // Handle API request error\n    if (err.response && err.response.data && err.response.data.message) {\n      dispatch(loginFailed(err.response.data.message));\n    } else {\n      dispatch(loginFailed(\"An unexpected error occurred.\"));\n    }\n  }\n};","map":{"version":3,"names":["axios","loginFailed","loginStart","loginSuccess","logOutFailed","logOutStart","logOutSuccess","registerFailed","registerStart","registerSuccess","loginUser","account","dispatch","navigate","res","post","data","accessToken","localStorage","setItem","console","log","message","err","response"],"sources":["D:/TLCN/SourceCode/BloodnHeart/client/src/redux/apiRequest.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n    loginFailed,\r\n    loginStart,\r\n    loginSuccess,\r\n    logOutFailed,\r\n    logOutStart,\r\n    logOutSuccess,\r\n    registerFailed,\r\n    registerStart,\r\n    registerSuccess,\r\n} from \"./authSlice\";\r\n\r\nexport const loginUser = async (account, dispatch, navigate) => {\r\n    dispatch(loginStart());\r\n    try {\r\n        const res = await axios.post(\"http://localhost:8000/v1/auth/login\", account);\r\n\r\n        if (res.data.accessToken) {\r\n            dispatch(loginSuccess(res.data));\r\n            localStorage.setItem('token', res.data.accessToken);\r\n            navigate(\"/\");\r\n        } else {\r\n            // no accessToken\r\n            console.log(res.data.message)\r\n            dispatch(loginFailed(res.data.message));\r\n        }\r\n    } catch (err) {\r\n        // Handle API request error\r\n        if (err.response && err.response.data && err.response.data.message) {\r\n            \r\n            dispatch(loginFailed(err.response.data.message));\r\n        } else {\r\n          \r\n            dispatch(loginFailed(\"An unexpected error occurred.\"));\r\n        }\r\n    }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACIC,WAAW,EACXC,UAAU,EACVC,YAAY,EACZC,YAAY,EACZC,WAAW,EACXC,aAAa,EACbC,cAAc,EACdC,aAAa,EACbC,eAAe,QACZ,aAAa;AAEpB,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,OAAO,EAAEC,QAAQ,EAAEC,QAAQ,KAAK;EAC5DD,QAAQ,CAACV,UAAU,CAAC,CAAC,CAAC;EACtB,IAAI;IACA,MAAMY,GAAG,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,qCAAqC,EAAEJ,OAAO,CAAC;IAE5E,IAAIG,GAAG,CAACE,IAAI,CAACC,WAAW,EAAE;MACtBL,QAAQ,CAACT,YAAY,CAACW,GAAG,CAACE,IAAI,CAAC,CAAC;MAChCE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,GAAG,CAACE,IAAI,CAACC,WAAW,CAAC;MACnDJ,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,MAAM;MACH;MACAO,OAAO,CAACC,GAAG,CAACP,GAAG,CAACE,IAAI,CAACM,OAAO,CAAC;MAC7BV,QAAQ,CAACX,WAAW,CAACa,GAAG,CAACE,IAAI,CAACM,OAAO,CAAC,CAAC;IAC3C;EACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;IACV;IACA,IAAIA,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACR,IAAI,IAAIO,GAAG,CAACC,QAAQ,CAACR,IAAI,CAACM,OAAO,EAAE;MAEhEV,QAAQ,CAACX,WAAW,CAACsB,GAAG,CAACC,QAAQ,CAACR,IAAI,CAACM,OAAO,CAAC,CAAC;IACpD,CAAC,MAAM;MAEHV,QAAQ,CAACX,WAAW,CAAC,+BAA+B,CAAC,CAAC;IAC1D;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}