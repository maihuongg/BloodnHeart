{"ast":null,"code":"import _regeneratorRuntime from\"D:/TLCN/SourceCode/BloodnHeart/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/TLCN/SourceCode/BloodnHeart/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/TLCN/SourceCode/BloodnHeart/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function QuenMatKhau(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),cccd=_useState2[0],setCccd=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),msgErr=_useState6[0],setMsgErr=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),msgSuccess=_useState8[0],setMsgSuccess=_useState8[1];var navigate=useNavigate();var handleForgotPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var requestForgot,response,errorData,successMsg;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();requestForgot={cccd:cccd,email:email};_context.prev=2;_context.next=5;return fetch('http://localhost:8000/v1/user/forgot-password',{method:'POST',body:JSON.stringify(requestForgot),headers:{'Content-Type':'application/json'}});case 5:response=_context.sent;if(response.ok){_context.next=13;break;}_context.next=9;return response.json();case 9:errorData=_context.sent;setMsgErr(errorData.message);_context.next=18;break;case 13:_context.next=15;return response.json();case 15:successMsg=_context.sent;setMsgErr(null);setMsgSuccess(successMsg.message);case 18:_context.next=24;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](2);setMsgErr(\"Đã xảy ra lỗi không mong muốn. Vui lòng thử lại.\");console.log(\"ForgotPassword Error: \",_context.t0);case 24:case\"end\":return _context.stop();}},_callee,null,[[2,20]]);}));return function handleForgotPassword(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid bg-light position-relative shadow\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0 px-lg-5 position-relative\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/\",className:\"navbar-brand font-weight-bold text-secondary\",style:{fontSize:50},children:[/*#__PURE__*/_jsx(\"img\",{src:\"img/logo.png\",alt:\"Logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",style:{fontSize:40},children:\" BloodnHeart\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"navbar-toggler\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarCollapse\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse justify-content-between\",id:\"navbarCollapse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav font-weight-bold mx-auto py-0\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"/\",className:\"btn btn-primary m-3 position-absolute\",style:{right:\"0px\"},children:[\"QUAY L\\u1EA0I \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-right\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid pt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center pb-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"section-title px-5\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2\",children:\"Qu\\xEAn M\\u1EADt Kh\\u1EA9u\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mb-2 text-primary\",children:\"L\\u1EA4Y L\\u1EA0I M\\u1EACT KH\\u1EA8U\"})]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"col-6 mx-auto d-flex flex-column align-items-center\",onSubmit:handleForgotPassword,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-lg-8\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label mb-2\",children:\"CCCD/CMND/S\\u1ED1 \\u0111\\u1ECBnh danh\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control p-2\",onChange:function onChange(e){return setCccd(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-lg-8\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label mb-2\",children:\"Email \\u0111\\xE3 \\u0111\\u0103ng k\\xFD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control p-2\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-lg-8\",children:[msgErr&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:msgErr}),msgSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",role:\"alert\",children:msgSuccess}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-outline-primary mb-2 \",children:[\"G\\u1EECI Y\\xCAU C\\u1EA6U \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-arrow-right\"})]})})]})]})]})]});}export default QuenMatKhau;","map":{"version":3,"names":["React","Link","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QuenMatKhau","_useState","_useState2","_slicedToArray","cccd","setCccd","_useState3","_useState4","email","setEmail","_useState5","_useState6","msgErr","setMsgErr","_useState7","_useState8","msgSuccess","setMsgSuccess","navigate","handleForgotPassword","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","requestForgot","response","errorData","successMsg","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","body","JSON","stringify","headers","sent","ok","json","message","t0","console","log","stop","_x","apply","arguments","children","className","href","style","fontSize","src","alt","type","id","right","onSubmit","onChange","target","value","role"],"sources":["D:/TLCN/SourceCode/BloodnHeart/client/src/components/quenmatkhau/quenmatkhau.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction QuenMatKhau() {\r\n    const [cccd, setCccd] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [msgErr, setMsgErr] = useState(null);\r\n    const [msgSuccess, setMsgSuccess] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    const handleForgotPassword = async (e) => {\r\n        e.preventDefault();\r\n        const requestForgot = {\r\n            cccd: cccd,\r\n            email: email\r\n        };\r\n        try {\r\n            const response = await fetch('http://localhost:8000/v1/user/forgot-password', {\r\n                method: 'POST',\r\n                body: JSON.stringify(requestForgot),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                setMsgErr(errorData.message);\r\n\r\n            } else {\r\n                const successMsg = await response.json();\r\n                setMsgErr(null);\r\n                setMsgSuccess(successMsg.message);\r\n            }\r\n        } catch (error) {\r\n            setMsgErr(\"Đã xảy ra lỗi không mong muốn. Vui lòng thử lại.\");\r\n            console.log(\"ForgotPassword Error: \", error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* Navbar */}\r\n            <div className=\"container-fluid bg-light position-relative shadow\">\r\n                <nav className=\"navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0 px-lg-5 position-relative\">\r\n                    <a href=\"/\" className=\"navbar-brand font-weight-bold text-secondary\" style={{ fontSize: 50 }}>\r\n                        <img src=\"img/logo.png\" alt=\"Logo\"></img>\r\n                        <span className=\"text-primary\" style={{ fontSize: 40 }}> BloodnHeart</span>\r\n                    </a>\r\n                    <button type=\"button\" className=\"navbar-toggler\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\">\r\n                        <span className=\"navbar-toggler-icon\" />\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse justify-content-between\" id=\"navbarCollapse\">\r\n                        <div className=\"navbar-nav font-weight-bold mx-auto py-0\">\r\n                            {/* You can add navigation links here if needed */}\r\n                        </div>\r\n                        <a href=\"/\" className=\"btn btn-primary m-3 position-absolute\" style={{ right: \"0px\" }}>\r\n                            QUAY LẠI <i className=\"fa fa-arrow-right\"></i>\r\n                        </a>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n            {/* Navbar End */}\r\n\r\n            {/* Change Password Form */}\r\n            <div className=\"container-fluid pt-5\">\r\n                <div className=\"container\">\r\n                    <div className=\"text-center pb-2\">\r\n                        <p className=\"section-title px-5\">\r\n                            <span className=\"px-2\">Quên Mật Khẩu</span>\r\n                        </p>\r\n                        <h2 className=\"mb-2 text-primary\">LẤY LẠI MẬT KHẨU</h2>\r\n                    </div>\r\n                </div>\r\n\r\n                <form\r\n                    className=\"col-6 mx-auto d-flex flex-column align-items-center\"\r\n                    onSubmit={handleForgotPassword}>\r\n                    <div className=\"form-group col-lg-8\">\r\n                        <label className=\"form-control-label mb-2\">CCCD/CMND/Số định danh</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control p-2\"\r\n                            onChange={(e) => setCccd(e.target.value)} />\r\n                    </div>\r\n                    <div className=\"form-group col-lg-8\">\r\n                        <label className=\"form-control-label mb-2\">Email đã đăng ký</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control p-2\"\r\n                            onChange={(e) => setEmail(e.target.value)} />\r\n                    </div>\r\n                    <div className=\"form-group col-lg-8\">\r\n\r\n                        {/* Error Message */}\r\n                        {msgErr && (\r\n                            <div className=\"alert alert-danger\" role=\"alert\">\r\n                                {msgErr}\r\n                            </div>\r\n                        )}\r\n                         {msgSuccess && (\r\n                            <div className=\"alert alert-success\" role=\"alert\">\r\n                                {msgSuccess}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"col-lg-12 d-flex justify-content-center align-items-center\">\r\n                            <button type=\"submit\" className=\"btn btn-outline-primary mb-2 \">\r\n                                GỬI YÊU CẦU <i className=\"fa-solid fa-arrow-right\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className=\"col-lg-12 login-btm text-center\">\r\n                        <h6 className=\"mb-2\">\r\n                            <Link to=\"/dangky\">Đăng ký tài khoản mới.</Link>\r\n                        </h6 >\r\n                        <h6 className=\"mb-2\">\r\n                            Đã có tài khoản? <Link to=\"/dangnhap\">Đăng nhập ngay </Link>\r\n                        </h6>\r\n                    </div> */}\r\n                </form>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default QuenMatKhau;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}